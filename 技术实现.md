## 带验证码的登录校验

当客户端请求获取验证码图片时，后台生成一个验证码图片和一个随机UUID，以UUID信息为key，验证码字符串为vlue保存在redis中，然后把图片和UUID的cookies相应给客户端，之后校验的时候就可以通过UUID查找redis中对应的值与客户输入的信息进行比对。

## 浏览量的实现

由于浏览量点赞量经常改变，所以我在redis新建一个key用来表示当前文章浏览量的增长值，每次用户访问的时候就会对其进行自增操作，经过一段再同步到数据库中，同步的方法是扫描数据库所有文章，每篇文章访问量加上这段时间的增长值，redis的key减去这段时间的增长值。

客户点击某篇文章的详情页时，向后端发送一个携带文章id号的请求，后端首先判断redis中是否存在当前ip对文章id的浏览记录，如果存在，说明最近一段时间访问过该文章，就不做任何操作，直接返回。如果没有，就加上这个key，并设置过期时间30分钟。同时给redis中当期文章的访问量自增1，

## 记住我的登录状态

* 使用session方式：当用户登录成功的时候，服务器保存一个sessionid值，并通过Cookies方式发送给客户端，设置有效时间为1个月，那么在今后的一个月中，客户端访问我的网站时会将这个sessionid值发送到我的服务器上进行验证，服务器判断是否存在在sessionid，存在就直接放行，不存在就跳转到登录界面进行重新登录。
* 但是实际上，session并不会一直存在，过了一段时间后，服务器上的session值就会被销毁，以减轻服务器的压力。当服务器上的数据被销毁的时候，即使客户端存在cookies也没法办法记住登录状态了。所以这时需要把用户名和加密后的密码也通过cookies的方式存放在客户端。当服务器销毁以后，使用cookie里面存放的用户名和加密之后的密码重新执行一次登录操作，重建Session，并更新客户端上cookie中存放的的Session ID，而这个操作是发生在用户请求一个需要身份验证的页面资源的背后，对于用户来讲是透明的，于是就达到了“记住我的登录状态”的目的了。